@import "../utils/main";

html,
body {
  width: 100%;
  height: 100%;
}

html {
  margin: 0 !important;
  padding: env(safe-area-inset);
  overflow-x: hidden;
}

body {
  background-repeat: no-repeat;
  background-attachment: fixed;
  color: $gray5;
  font-family: $gentona;
  font-weight: 400;
  font-size: $regular;
  @include linear-gradient($double_black, to bottom, $logo_blue 33.33%, $black 33.34%);

  // Now that main-nav, modals, and overlays are outside of .page-container for
  // accessibility purposes, they must specifically be given the same font-size
  // changes at each breakpoint.
  > * {
    font-size: 1em;
    max-width: 100%;

    @include breakpoint_lap_width() {
      font-size: $breakpoint_lap_font_size;
    }

    @include breakpoint_desk_width() {
      font-size: $breakpoint_desk_font_size;
    }

    @include breakpoint_wall_width() {
      font-size: $breakpoint_wall_font_size;
    }

    @include breakpoint_jumbotron_width() {
      font-size: $breakpoint_jumbotron_font_size;
    }
  }

  #layout-debugger {
    font-size: 1em !important;
  }
}

*:focus {
  // outline: 5px auto rgba(0, 103, 244, 0.5);
  // outline: 5px auto -webkit-focus-ring-color;
  position: relative;
  z-index: $stack-normal + 2;
}

*:-moz-focusring {
  outline: 1px dotted;
}

details,
dl,
figure,
h1,
h2,
h3,
h4,
h5,
h6,
ol,
p,
ul,
.jhu-block,
.teaser,
.wp-block-image {
  margin: 0;

  + * {
    margin-top: ($standard_spacing / 3);
  }
}

* {

  + details,
  + dl,
  + figure,
  + h1,
  + h2,
  + h3,
  + h4,
  + h5,
  + h6,
  + ol,
  + p,
  + ul,
  + .jhu-block,
  + .teaser,
  + .wp-block-image {
    margin-top: ($standard_spacing / 3);
  }
}

form,
[role='form'],
.wp-block-jhu-group {

  + * {
    margin-top: $standard_spacing;
  }
}

* {
  + form,
  + [role='form'],
  + .wp-block-jhu-group {
    margin-top: ($standard_spacing / 2);
  }
}

h1,
h2,
h3,
h4,
h5,
h6 {
  line-height: 1em;
}

p {

  a {
    font-weight: 400;
  }

  &:empty {
    display: none;
  }

  &.has-large-font-size {
    font-family: $quadon;
    font-size: $large;
    font-weight: 600;

    a {
      font-weight: 600;
    }

    b,
    strong {
      font-weight: 800;
    }
  }
}

a {

  img {
    display: block;
    height: auto;
    min-width: 100%;
  }
}

blockquote {
  border-left: solid $light $gray1;
  color: $sparta;
  font-family: $quadon;
  @include font_size(font-size, large, regular);
  font-style: normal;
  font-weight: 400;
  margin: 1em 0;
  padding: 0 1.5em;

  cite {
    color: $gray4;
    // display: block;
    font-family: $gentona;
    @include font_size(font-size, small, large);
    font-weight: 400;
    margin-top: #{($standard_spacing / 6) / $small}em;
    // text-align: right;

    &::before {
      content: '\2014';
      display: inline;
    }
  }
}

b,
strong {
  font-weight: 600;

  a {
    font-weight: inherit;
  }
}

i,
em {
  font-style: italic;

  b,
  strong {
    font-style: inherit;
  }
}

details {
  border: solid $thin $gray4;
  border-left: none;
  border-right: none;
  display: block;
  padding: ($standard_spacing / 6) 0;

  * {

    &:last-child {
      margin-bottom: ($standard_spacing / 6);
    }
  }

  summary {
    color: $black;
    cursor: pointer;
    font-family: $gentona;
    font-weight: 600;

    &::-webkit-details-marker {
      color: $sparta;
    }

    + * {
      margin-top: ($standard_spacing / 6);
    }
  }

  + details {
    border-top: none;
    margin-top: 0;
  }
}

dl {
  font-family: $gentona;

  dd {
    margin-left: 0.5em;

    + dd {
      margin-top: 0.25em;
    }

    + dt {
      margin-top: #{0.5em / $x-small}em;
    }
  }

  dt {
    font-size: $x-small;
    font-weight: 700;

    + dd {
      margin-top: 0;
    }

    + dt {
      margin-top: #{0.25em / $x-small}em;
    }
  }
}

ul,
ol {
  // margin: ($standard_spacing / 12) 0 ($standard_spacing / 3) 0;
  padding: 0;

  // &:first-child { margin-top: 0; }
  // &:last-child { margin-bottom: 0; }

  li {
    // margin-bottom: ($standard_spacing / 12);
    //
    // &:first-child { margin-top: 0 !important; }
    // &:last-child { margin-bottom: 0 !important; }

    + li,
    > ul,
    > ol {
      margin-top: ($standard_spacing / 12);
    }
  }
}

figure {
  margin-left: 0;
  margin-right: 0;
  width: 100%;

  figcaption {
    // border-bottom: solid $black $light;
    color: $gray3;
    font-size: $x-small;
    padding: #{($standard_spacing / 8) / $x-small}em 0 0 0;
  }

  iframe,
  img {
    display: block;
    // height: auto;
    // width: 100%;
  }

  img {
    height: auto;
    width: 100%;
  }
}

//\\//\\ CLOSE-X //\\//\\//\\//\\
.close-box-x {
  @include backface-visibility(hidden);
  background-color: $black;
  border: none;
  @include border-radius(0 !important);
  color: $gray1;
  cursor: pointer;
  display: block;
  height: $standard_spacing;
  margin: 0;
  position: fixed;
  right: 0;
  text-decoration: none;
  top: 0;
  @include transition(background-color);
  @include transition-duration($run);
  @include transition-timing-function(ease-in-out);
  width: $standard_spacing;
  z-index: $stack_positioned;

  &:before,
  &:after {
    background-color: transparent;
    border-top: solid $thin $gray1;
    content: '';
    height: 0;
    left: 50%;
    position: absolute;
    top: 50%;
    @include transition(border-top-color);
    @include transition-duration($run);
    @include transition-timing-function(ease-in-out);
    width: 50%;
  }

  &:before {
    @include transform(translate(-50%, -50%) rotate(45deg));
  }

  &:after {
    @include transform(translate(-50%, -50%) rotate(-45deg));
  }

  .fa {
    display: none;
    font-size: (($standard_spacing / 3) * 2);
    height: ((($standard_spacing / 3) * 2) / 2); // math for font-size
    margin: ((($standard_spacing / 12) * 2) / 2); // math for font-size
    @include transition(color);
    @include transition-duration($run);
    @include transition-timing-function(ease-in-out);
    visibility: hidden;
    width: ((($standard_spacing / 3) * 2) / 2); // math for font-size
  }

  // light is the default, so we don't need to specify colors
  // &.light { }

  &.dark {
    background-color: $white;
    color: $gray4;

    &:after,
    &:before {
      border-top-color: $gray5;
    }

    .fa {
      color: $gray5;
    }
  }
}

.no-js,
.no-touchevents {

  .close-box-x {

    &:focus,
    &:hover {
      background-color: $gray5;

      &:after,
      &:before {
        border-top-color: $white;
      }

      .fa {
        color: $white;
      }
    }

    &.dark {

      &:focus,
      &:hover {

        &:after,
        &:before {
          border-top-color: $white;
        }

        .fa {
          color: $white;
        }
      }
    }
  }
}

.is-type-video {

  &.wp-embed-aspect-4-3,
  &.wp-embed-aspect-16-9 {

    figcaption {
      border-bottom: solid $gray1 #{$thin / $x-small}em;
      padding-bottom: #{($standard_spacing / 8) / $x-small}em;
    }

    iframe {
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
      width: 100%;
      z-index: $stack_normal;
    }

    .wp-block-embed__wrapper {
      height: 0;
      position: relative;
      width: 100%;
      z-index: $stack_normal;
    }
  }

  &.wp-embed-aspect-4-3 {

    .wp-block-embed__wrapper {
      padding-bottom: 75%;
    }
  }


  &.wp-embed-aspect-16-9 {

    .wp-block-embed__wrapper {
      padding-bottom: percentage(9/16);
    }
  }
}

.wp-block-image {

  a,
  img {
    display: block;
    width: 100%;
  }

  a {
    border: none;
    @include box_shadow(none !important);
  }

  img {
    height: auto;
  }
}

* {

  + table {
    margin-top: $standard_spacing / 6;
  }
}

table {
  // margin: ($standard_spacing / 12) 0 ($standard_spacing / 3) 0;
  font-family: $gentona;
  font-weight: 400;
  outline: $table_outline;
  width: 100%;

  // &:first-child { margin-top: 0; }
  // &:last-child { margin-bottom: 0; }

  caption {
    padding: ($standard_spacing / 6); // math for font-size
    background-color: $black;
    font-size: $regular;
    font-weight: 700;
    color: $white;
    text-align: center;
    text-transform: uppercase;
  }

  tr {
    border-bottom: $table_cell_border;

    &:last-child {
      border-bottom: 0;
    }

    th,
    td {
      border-right: $table_cell_border;
      overflow: hidden;

      &:focus-within {
        overflow: visible;
      }

      &:last-child {
        border-right: none;
      }
    }

    th {
      background-color: $black;
      // border-color: $gray4;
      color: $white;
      font-size: $x-small;
      font-weight: 600;
      padding: #{($standard_spacing / 6) / $x-small}em;
      text-align: center;
      text-transform: uppercase;
    }

    td {
      font-size: $small;
      padding: #{($standard_spacing / 6) / $small}em;
      width: auto;
    }
  }

  + * {
    margin-top: $standard_spacing / 3;
  }
}

.page-container {
  background-color: $white;
}

.section {
  display: block;
  clear: both;
  position: relative;
  z-index: $stack_normal;
}

.center {
  position: relative;
  z-index: $stack-normal;
}

.icon-fallback {
  text-decoration: none;
  display: none;
  visibility: hidden;
}

.update {
  background: $sparta;
  @include border-radius(10em);
  color: $white;
  display: inline-block;
  font-family: $gentona;
  font-size: $xxx-small;
  font-weight: 600;
  height: #{(1em / $xxx-small)}em;
  line-height: 0.6em;
  padding: #{(((1em / $xxx-small) - 0.6) / 2)}em $bold #{(((1em / $xxx-small) - 0.6) / 2)}em;
  position: relative;
  text-transform: uppercase;
  top: $thin * -1;
  z-index: $stack_normal;
}


// Utility Classes
// ==========================================================================

// Force-clear floats
.force:after {
  visibility: hidden;
  display: block;
  content: "";
  clear: both;
  height: 0;
}

* html .force             { zoom: 1; } /* IE6 */
*:first-child+html .force { zoom: 1; } /* IE7 */

// Recommendation from HTML5 boilerplate and originally from
// http://snook.ca/archives/html_and_css/hiding-content-for-accessibility
.hide {
  display: none;
}

// Hide only visually, but have it available for screen readers:
// http://snook.ca/archives/html_and_css/hiding-content-for-accessibility

.visuallyhidden {
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;

  // Extends the .visuallyhidden class to allow the element
  // to be focusable when navigated to via the keyboard:
  // https://www.drupal.org/node/897638
  &.focusable {

    &:active,
    &:focus {
      clip: auto;
      height: auto;
      margin: 0;
      overflow: visible;
      position: static;
      width: auto;
    }
  }
}
